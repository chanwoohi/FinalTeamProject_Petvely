<!DOCTYPE html>
<html 
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
    layout:decorate="~{layout/layout2.html}">
<head>
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.8.18/dist/summernote-bs4.min.js"></script>
</head>
<body>
	<main layout:fragment="content">
	    <form method="post" th:action="@{/post/marketinsert/11}" enctype="multipart/form-data">
	       <div class="post_Container">
	        <div class="post_Category">
	            <label>제목</label> <span class="post_Mark">*</span>
	            <input placeholder="제목을 입력해주세요" type="text" class="postInput" id="po_title" name="po_title" >
	        </div>
	        <div class="post_Category">
	            <label>내용</label> <span class="post_Mark">*</span>
	            <textarea placeholder="5자 이상의 글 내용을 입력해주세요" id="po_content" class="postText" name="po_content"></textarea>
	        </div>
	        <div class="post_Category">
	            <label>타입 </label> <span class="post_Mark">*</span>
	            <select class="marketCategoryFiled" id="mp_gt_type" name="mp_gt_type">
	                <option value="">선택하세요</option>
	                <option th:each="type : ${types}" 
	                        th:value="${type.gt_type}" 
	                        th:text="${type.gt_type}"></option>
	            </select>
	        </div>
	        <div class="post_Category">
	            <label>상품명</label> <span class="post_Mark">*</span>
	            <input placeholder="상품명을 입력해주세요" type="text" class="postInput" id="mp_name" name="mp_name" >
	        </div>
	        <div class="post_Category">
	            <label>상품내용</label> <span class="post_Mark">*</span>
	            <textarea placeholder="5자 이상의 글 내용을 입력해주세요" class="postText" id="mp_content" name="mp_content"></textarea>
	        </div>
	        <div class="post_Category">
	            <label>가격</label> <span class="post_Mark">*</span>
	            <input placeholder="금액을 입력해주세요" type="text" class="postInput" id="mp_price" name="mp_price" >
	        </div>
	        <div class="post_Category">
	            <label>파일첨부</label>
	            <input type="file" class="postInput" name="fileList" multiple />
	        </div>
	        <div class="post_Btn">
	            <button class="post_submitBtn" id="submitBtn" type="submit" disabled>게시글 등록</button>
	        </div>
	    </div>
	   </form>
	   <script type="text/javascript">
	    // 모든 필드가 입력되었는지 확인하여 제출 버튼 활성화
	    $(document).ready(function() {
	        function toggleSubmitButton() {
	            // 모든 필드가 채워졌는지 확인 (파일첨부 제외)
	            if ($('#po_title').val().trim() &&
	                $('#po_content').val().trim() &&
	                $('#mp_gt_type').val().trim() &&
	                $('#mp_name').val().trim() &&
	                $('#mp_content').val().trim() &&
	                $('#mp_price').val().trim()) {
	                $('#submitBtn').prop('disabled', false);
	            } else {
	                $('#submitBtn').prop('disabled', true);
	            }
	        }
	
	        // 각 입력 필드에 이벤트 리스너 추가
	        $('#po_title, #po_content, #mp_gt_type, #mp_name, #mp_content, #mp_price').on('input change', toggleSubmitButton);
	    });
	    </script>
	</main>
</body>
</html>