<!DOCTYPE html>
<html 
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" 
    layout:decorate="~{layout/layout.html}">
<body>
        
    <main layout:fragment="content">
        <div th:object="${post}">
            <div class="form-group">
                <label>제목:</label>
                <input type="text" class="form-control" readonly
                    th:value="*{po_title}">
            </div>
            <div class="form-group">
                <label>작성자:</label>
                <input type="text" class="form-control" readonly
                    th:value="*{me_id}">
            </div>
            <div class="form-group">
                <label>작성일:</label>
                <input type="text" class="form-control" readonly
                    th:value="*{#dates.format(po_date, 'yyyy-MM-dd HH:mm:ss')}">
            </div>
            <div class="form-group">
                <label>판매 상태:</label>
                <input type="text" class="form-control" readonly
                    th:value="*{mp_gts_state}">
            </div>
            <div class="form-group">
                <label>상품명:</label>
                <input type="text" class="form-control" readonly
                    th:value="*{mp_name}">
            </div>
            <div class="form-group">
			    <label>첨부 이미지:</label>
			    <div th:if="${fileList != null && !fileList.isEmpty()}">
			        <div th:each="image : ${fileList}">
			            <img th:src="${image.fi_name}" alt="Image" style="max-width: 100%; height: auto;" />
			        </div>
			    </div>
			   	 <div th:unless="${fileList != null && !fileList.isEmpty()}">
			        <p>등록된 이미지가 없습니다.</p>
			    </div>
        	</div>
            <div class="form-group">
                <label>게시글 내용:</label>
                <input type="text" class="form-control" readonly
                    th:value="*{mp_content}">
            </div>
            <div class="form-group">
                <label>가격:</label>
                <input type="text" class="form-control" readonly
                    th:value="*{mp_price}">
            </div>
            <div class="form-group">
                <label>타입:</label>
                <input type="text" class="form-control" readonly 
                    th:value="${post.mp_gt_type}">
            </div>
        </div>
        <div th:if="${me_num == post.po_me_num}">
            <form method="post" th:action="@{/post/marketcomplete/{po_num}(po_num=${post.po_num})}">
                <button type="submit" class="btn btn-outline-dark">거래완료</button>
            </form>
        </div>
    </main>

</body>
</html>